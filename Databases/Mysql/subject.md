# 基础部分  
**1.drop,truncate,delete区别**
  - delete：删除表的内容，表的结构还存在，不释放空间，可以回滚恢复；  
  - drop：删除表内容和结构，释放空间，没有备份表之前要慎用；  
  - truncate：删除表的内容，表的结构存在，可以释放空间,没有备份表之前要慎用；
    
**2.数据库三范式是什么?**   
  - 1、第一范式：当关系模式R的所有属性都不能在分解为更基本的数据单位e5a48de588b6e799bee5baa6e997aee7ad9431333431363034时，称R是满足第一范式的，简记为1NF。满足第一范式是关系模式规范化的最低要求，否则，将有很多基本操作在这样的关系模式中实现不了。  
  - 2、第二范式：如果关系模式R满足第一范式，并且R得所有非主属性都完全依赖于R的每一个候选关键属性，称R满足第二范式，简记为2NF。  
  - 3、第三范式：设R是一个满足第一范式条件的关系模式，X是R的任意属性集，如果X非传递依赖于R的任意一个候选关键字，称R满足第三范式，简记为3NF。  

**3.union,union all有什么不同？**  
   - union 将两个表连接后删除其重复的项。（交集）  
   - union all 将两个表连接都不删除其重复的项。(并集)  
   
**4.char,varchar2,varchar有什么区别？**   
   - CHAR的长度是固定的，VARCHAR2的长度是可以变化的。 
   - VARCHAR是VARCHAR2的同义词
   
**5.合并查询有哪些？**
   - union   :合并时去除重复记录
   - union all:  合并时不去除重复记录  
 
**6.SQL语句执行顺序？**
   - 1.FROM
   - 2.ON
   - 3.JOIN
   - 4.WHERE
   - 5.GROUP By
   - 6.CUBE|ROLLUP
   - 7.HAVING
   - 8.SELECT 
   - 9.DISTINCT 
   - 10.ORDER BY
   - 11.LIMIT
       
**7.null的含义**
 - 因为NULL只是一个标识，只要知道此列为NULL即可，NULL值跟任何值比较，返回均为不相同，包括NULL与NULL本身。
   
**8.MySQL,SqlServer,oracle写出字符存储,字符串转时间**  
   - MySQL:SELECT DATE_FORMAT(hiredate,"%Y-%m-%d") FROM users ;
   - Oracle:select to_date("2017-11-2","yyyy-MM-dd HH:mi:ss") from dual;
   - SqlServer: select convert(varchar ,getdate(),120); 
   
**9.update语句可以修改结果集中的数据吗？**
   -  不能直接实现,可以通过INNER JOIN引入内部关联表实现
      
**10.B树和B+树的区别**
   - B树:每个节点都存储key和data，所有节点组成这棵树，并且叶子节点指针为null。
   - B+树:只有叶子节点存储data，叶子节点包含了这棵树的所有键值，叶子节点不存储指针。  
   
**11.你建过索引吗？建索引的原则**
   - 1.对于查询频率高的字段创建索引
   - 2.对排序,分组,联合查询频率高的字段创建索引 
   - 3.索引数目不宜太对
   - 4.若在实际中,需要将多个列设置索引时,可以采用组合索引
   - 5.选择唯一索引
   - 6.尽量使用数据量少的索引
   - 7.尽量使用前缀来索引 
   - 8.删除不再使用或者很少使用的索引
   
**12.查看SQL执行计划**  
  - explain
  
**13.有十万条数据,写出SQL语句查询其中某字段较大值的几条数据**
  - select * from table order by age desc limit 0,10;
  
**14.子查询与关联查询的区别**
  - 子查询会建立临时表,子查询效率低于关联查询;
  
**15.MySQL InnoDB,MyISAM的特点？**  
   - 1.InnoDB支持事务索引,MyISAM不支持
   - 2.InnoDB提供了行锁,MyISAM写入时锁表,InnoDB行锁也不是绝对的,如果在执行一个SQL语句时MySQL不能确定要扫描的范围，InnoDB表同样会锁全表，例如update table set num=1 where name like "%aaa%" 
   - 3.InnoDB不支持FULLTEXT类型索引,MyISAM支持
   - 4.InnoDB不保存表的具体行数,执行count()时会扫描整个表计算多少行
   - 5.DELETE FROM table时,InnoDB会一行一行删除,MyISAM会重建表
   - 6.InnoDB不支持LOAD TABLE FROM MASTER操作（表的拷贝从主服务器转移到从属服务器）；MyISAM表支持。
   - 7.对于AUTO_INCREMENT类型的字段，InnoDB中必须包含只有该字段的索引；但是在MyISAM表中，可以和其他字段一起建立联合索引。
    
**16.乐观锁和悲观锁的区别？**
   - 乐观锁（ Optimistic Locking）：顾名思义，对加锁持有一种乐观的态度，即先进行业务操作，不到最后一步不进行加锁，"乐观"的认为加锁一定会成功的，在最后一步更新数据的时候再进行加锁。
   - 悲观锁（Pessimistic Lock）：正如其名字一样，悲观锁对数据加锁持有一种悲观的态度。因此，在整个数据处理过程中，将数据处于锁定状态。悲观锁的实现，往往依靠数据库提供的锁机制（也只有数据库层提供的锁机制才能真正保证数据访问的排他性，否则，即使在本系统中实现了加锁机制，也无法保证外部系统不会修改数据）。
  
**17.行锁和表锁的区别？**
   - 行锁:锁的粒度小，发生锁冲突的概率低、处理并发的能力强；开销大、加锁慢、会出现死锁
   - 表锁:开销小、加锁快、无死锁；锁粒度大，发生锁冲突的概率高，高并发下性能低
     
**18.数据库隔离级别是什么？有什么作用？**
  - 1.Serializable (串行化)：可避免脏读、不可重复读、幻读的发生
  - 2.Repeatable read (可重复读)：可避免脏读、不可重复读的发生
  - 3.Read committed (读已提交)：可避免脏读的发生
  - 4.Read uncommitted (读未提交)：最低级别，任何情况都无法保证
  
**19.MySQL主备同步基本原理**
   - 1.MYSQL主从同步是异步复制的过程，整个同步需要开启3线程，master上开启bin-log日志（记录数据库增、删除、修改、更新操作）；
   - 2.Slave开启I/O线程来请求master服务器，请求指定bin-log中position点之后的内容；
   - 3.Master端收到请求，Master端I/O线程响应请求，bin-log、position之后内容返给salve；
   - 4.Slave将收到的内容存入relay-log中继日志中，生成master.info（记录master ip、bin-log、position、用户名密码）；
   - 5.Slave端SQL实时监测relay-log日志有更新，解析更新的sql内容，解析成sql语句，再salve库中执行；
   - 6.执行完毕之后，Slave端跟master端数据保持一致！

**20.如何优化数据库性能(索引,分库分表,批量操作,分页算法,升级硬盘SSD,业务优化,主从部署)**
  - 1.索引
  - 2.分库分表
  - 3.批量操作
  - 4.分页算法
  - 5.升级硬盘SSD
  - 6.业务优化
  - 7.主从部署
  
**21.SQL什么情况下不会使用索引**
  - 1.不包含
  - 2.不等于
  - 3.函数  
  
**22.一般在什么字段上建立索引**
  - 过滤数据最多的字段
   
**23.MySQL,B+索引实现,行锁实现,SQL优化**
  - 略  
  
24.如何解决高并发减库存问题  
  - 悲观锁
  - 消息队列
  
25.数据库事务的几种粒度  
  - 略
  
#实战部分  
1.数据库三范式,根据秒杀场景设计数据表  
2.数据库的主从复制  
3.死锁怎么解决  
4.mysql并发情况下怎么解决(通过事务,隔离级别,锁)  
5.触发器的作用？  
6.什么是存储过程？用什么来调用？  
7.存储过程的优缺点？  
8.存储过程与函数的区别？  
9.索引的作用？和它的优点缺点是什么？  
10.什么样的字段适合建立索引？  
11.索引类型有哪些？  
12.什么是事务？什么是锁？  
13.什么叫视图？游标是什么？  
14.视图的优缺点？  
15.列举几种表连接方法,有什么区别？  
16.主键和外键的区别？  
17.在数据库中查询语句速度很慢,如何优化？
18.数据库三范式式是什么？  
19.varchar2与varchar有什么区别？  
20.Oracle与Mysql的区别？  
21.order by与group by的区别  

#高级进阶部分  
1.请解释关系型数据库概念及其特点？  
2.请说出关系型数据库的典型产品,特点及应用场景？  
3.请解释非关系型数据库概念及主要特点？  
4.请说出非关系型数据库的典型产品,特点及应用场景？  
5.请详细描述SQL语句分类及对应代表性关键字？  
6.请详细描述char(4)和varchar(4)的差别？  
7.如何授权oldboy用户从172.16.1.0/24访问数据库？  
8.什么是MySQL多实例,如何配置MySQL多实例？  
9.如何加强MySQL安全,请给出可行的具体措施？  
10.delete和truncate删除数据的区别？  
11.MySQL Sleep线程过多如何解决？  
12.sort_buffer_size参数作用?如何在线修改生效？  
13.如何在线正确清理MySQL binlog？  
14.Binlog工作模式有哪些？各什么特点,企业如何选择？  
15.误操作执行了一个drop库的SQL语句,如何完整恢复？  
16.mysqldump备份使用了-A-B参数,如何实现恢复单表？  
17.详述了MySQL主从复制原理及配置主从的完整步骤。  
18.如何开启从库的binlog功能？  
19.MySQL如何实现双向互为主从复制,并说明应用场景？  
20.MySQL如何实现级联同步,并说明应用场景？  
21.MySQL主从复制故障如何解决？  
22.如何监控主从复制是否故障？  
23.MySQL数据库如何实现读写分离？  
24.生产一主多从从库宕机,如何手工恢复？ 